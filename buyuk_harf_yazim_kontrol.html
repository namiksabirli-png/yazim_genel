<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BÃ¼yÃ¼k Harflerin YazÄ±mÄ± â€“ Hangisi DoÄŸru?</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background:#eef1f7;
        display:flex;
        justify-content:center;
        padding:20px;
        margin:0;
    }
    .app {
        max-width:720px;
        width:100%;
        background:white;
        padding:20px;
        border-radius:14px;
        box-shadow:0 6px 22px rgba(0,0,0,0.1);
    }
    .hidden { display:none; }
    h1 { margin-top:0; }
    .option {
        background:#f4f6ff;
        padding:14px;
        border-radius:10px;
        border:1px solid #d9ddff;
        cursor:pointer;
        margin-bottom:12px;
        font-size:16px;
    }
    .option:hover { background:#e9edff; }
    .target { font-weight:bold; }
    .correct { color:#0a7a32 !important; }
    .wrong { color:#c62828 !important; }
    .btn {
        background:#3b82f6;
        color:white;
        border:none;
        padding:10px 18px;
        border-radius:999px;
        cursor:pointer;
        margin-top:10px;
        margin-right:10px;
        font-size:15px;
    }
    .btn:hover { background:#2563eb; }
</style>
</head>

<body>
<div class="app">

<!-- ANA SAYFA -->
<div id="home">
    <h1>BÃ¼yÃ¼k Harflerin YazÄ±mÄ±</h1>
    <p>Her soruda <strong>doÄŸru yazÄ±lmÄ±ÅŸ</strong> cÃ¼mleyi seÃ§.</p>
    <button class="btn" onclick="start()">BaÅŸla</button>
</div>

<!-- SORU EKRANI -->
<div id="quiz" class="hidden">
    <h1>Hangisi DoÄŸru?</h1>
    <div id="status"></div>
    <div id="options"></div>

    <button id="muteBtn" class="btn" style="background:#777;" onclick="toggleMute()">ğŸ”Š Sesi Kapat</button>
    <button class="btn" style="background:#444;" onclick="goHome()">Ana Sayfa</button>
</div>

<!-- SONUÃ‡ -->
<div id="result" class="hidden">
    <h1>Set TamamlandÄ±</h1>
    <div id="report"></div>

    <button class="btn" onclick="retryWrongs()">YanlÄ±ÅŸlarÄ± Tekrar Ã‡Ã¶z</button>
    <button class="btn" onclick="nextSet()">Sonraki Set</button>
    <button class="btn" style="background:#444;" onclick="goHome()">Ana Sayfa</button>
</div>

</div>

<script>
/* ---------------------------------------------------
   SES: Web Audio API (her zaman Ã§alÄ±ÅŸÄ±r)
--------------------------------------------------- */
let muted = false;
let audioCtx = null;

function initAudio() {
    if (!audioCtx) {
        const AC = window.AudioContext || window.webkitAudioContext;
        audioCtx = new AC();
    }
}

function beep(freq, duration) {
    if (muted) return;
    initAudio();

    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();

    osc.frequency.value = freq;
    osc.type = "sine";

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    const now = audioCtx.currentTime;
    gain.gain.setValueAtTime(0.25, now);
    gain.gain.exponentialRampToValueAtTime(0.0001, now + duration);

    osc.start(now);
    osc.stop(now + duration);
}

function playDing() { beep(880, 0.15); }
function playDong() { beep(220, 0.20); }

/* ---------------------------------------------------
   TÃœM DOÄRU VE YANLIÅ CÃœMLELER
--------------------------------------------------- */

const correctList = [
"<b>Zeynep HanÄ±m</b> bir ÅŸey bilmediÄŸini sÃ¶yledi.",
"Konya, <b>Ä°Ã§ Anadoluâ€™da</b> bulunur.",
"Bu fareyi <b>MinnoÅŸâ€™tan</b> baÅŸkasÄ± yakalayamaz.",
"<b>Ä°stanbul BoÄŸazÄ±â€™ndan</b> gemiler geÃ§ti.",
"<b>TÃ¼rk Dili dergisine</b> abone olacakmÄ±ÅŸ.",
"Ben <b>20 MayÄ±s 1990 Pazar gÃ¼nÃ¼</b> dÃ¼nyaya gelmiÅŸim.",
"<b>Ä°zmirâ€™in kuzeyine</b> kar geliyormuÅŸ.",
"Ä°nsanlar, <b>DoÄŸu felsefesine</b> ilgi duyuyor.",
"DÃ¼n ilk defa <b>Ankara kedisi</b> gÃ¶rdÃ¼m.",
"<b>Tuz GÃ¶lÃ¼</b> en bÃ¼yÃ¼k gÃ¶lÃ¼mÃ¼zdÃ¼r.",
"TBMM her yÄ±l <b>1 Ekimâ€™de</b> toplanÄ±r.",
"<b>Erzurum Kalesi</b> gÃ¶rÃ¼lmeye deÄŸer bir yerdir.",
"<b>BeÅŸiktaÅŸ MeydanÄ±â€™nda</b> eylem yapÄ±ldÄ±.",
"<b>TÃ¼rk Hava YollarÄ±</b> bu yÄ±l Ã§ok kÃ¢r etti.",
"Okullar <b>eylÃ¼lÃ¼n</b> ikinci haftasÄ± aÃ§Ä±lÄ±r.",
"Evimiz <b>AtatÃ¼rk Caddesiâ€™nde</b> bulunuyor.",
"<b>30 Haziran Cumartesi</b> gÃ¼nÃ¼ bize gelmiÅŸti.",
"Kaza, <b>Antalya ili</b> sÄ±nÄ±rlarÄ± iÃ§inde olmuÅŸ.",
"<b>Mars da JÃ¼piter de</b> kendi yÃ¶rÃ¼ngesindedir.",
"<b>Ay, DÃ¼nyaâ€™nÄ±n</b> uydusudur.",
"<b>Ä°smail Ã‡avuÅŸ</b> birÃ§ok savaÅŸa katÄ±lmÄ±ÅŸ.",
"Bu yÄ±l <b>KasÄ±mâ€™Ä±n 15â€™inde</b> gelecekmiÅŸ Fransaâ€™dan.",
"<b>GÃ¼mÃ¼ÅŸhane ilÃ§esine</b> gelen turistler gittiler.",
"Tabelada <b>â€œMetro DuraÄŸÄ±â€</b> yazÄ±lÄ±ydÄ±.",
"<b>GÃ¼neydoÄŸu Anadoluâ€™ya</b> kar Ã§oktan yaÄŸmÄ±ÅŸ.",
"<b>Isparta GÃ¼l Festivali</b> 10 Temmuzâ€™da baÅŸlayacak.",
"BugÃ¼n <b>Doktor Burak Bey</b> raporluymuÅŸ.",
"<b>Mehmet Efendi</b> toplantÄ±yÄ± hÄ±zlÄ±ca terk etti.",
"<b>Gazi Ortaokuluâ€™nda</b> okuyorum.",
"<b>Dicle Nehri</b>, tÃ¼rkÃ¼lere konu olmuÅŸtur."
];

const wrongList = [
"<b>Vali Murat bey</b> henÃ¼z gelmedi.",
"GeÃ§en hafta sizin pastanede <b>MaraÅŸ DondurmasÄ±</b> yedik.",
"<b>\"KuyucaklÄ± Yusuf\"</b> RomanÄ±nÄ± okudun mu?",
"YÃ¶rÃ¼kler, <b>Akdenizâ€™in GÃ¼neyâ€™ind</b>e yaÅŸÄ±yor.",
"Seni <b>Hasan Amcam</b> soruyordu.",
"<b>Kayseri PastÄ±rmasÄ±</b> oldukÃ§a kaliteli.",
"Ã–nÃ¼mÃ¼zdeki hafta <b>Ã‡arÅŸamba gÃ¼nÃ¼</b> gÃ¶rÃ¼ÅŸÃ¼rÃ¼z.",
"<b>â€œBabalar gÃ¼nÃ¼â€</b> diye bir gÃ¼n ne zamandan beri kutlanÄ±yor?",
"<b>Ali DayÄ±mâ€™a</b> Ã§ay iÃ§meye gideceÄŸiz.",
"Burada <b>15 Ocak pazartesi GÃ¼nÃ¼</b> tÃ¶ren varmÄ±ÅŸ.",
"Markette <b>HÃ¼rriyet Gazetesi</b> kalmamÄ±ÅŸ.",
"Onun da <b>DÃ¼nya kadar</b> iÅŸi varmÄ±ÅŸ.",
"DÃ¼n <b>avukat Serkan Bey'i</b> gÃ¶rdÃ¼m.",
"PastanÄ±n Ã¼zerine <b>Hindistan Cevizi</b> koymuÅŸ.",
"ArkadaÅŸÄ±m, <b>GÃ¼ler sokakta</b> beni bekliyor.",
"<b>Afyon Lokumu</b> Ã§ok lezzetli olur.",
"Onlar her <b>PerÅŸembe</b> yemeÄŸi bizim evde yerler.",
"Ben de bu yÄ±l <b>AÄŸustosâ€™ta</b> tatile Ã§Ä±kacaÄŸÄ±m.",
"<b>TÃ¼rk Milleti</b> gerÃ§ekten Ã§alÄ±ÅŸkandÄ±r.",
"<b>Ä°zmirâ€™in Kuzeyinde</b> plansÄ±z yapÄ±laÅŸma var.",
"<b>Kurban bayramÄ±nda</b> Ã§ok para toplamÄ±ÅŸ.",
"<b>Fatma nine</b>, KurtuluÅŸ SavaÅŸÄ±â€™nda savaÅŸmÄ±ÅŸ.",
"<b>AÄŸrÄ± daÄŸÄ±</b>, ihtiÅŸamÄ±yla karÅŸÄ±mÄ±zda duruyor.",
"Onunla <b>20 EylÃ¼l 2018 salÄ±</b> gÃ¼nÃ¼ tanÄ±ÅŸtÄ±k.",
"<b>AkÃ§akoca KÃ¶yÃ¼â€™nde</b> iki kiÅŸi kaybolmuÅŸ.",
"OdasÄ± hiÃ§ <b>GÃ¼neÅŸ</b> almayan cephedeymiÅŸ.",
"En kÃ¼Ã§Ã¼k gezegen <b>PlÃ¼ton Gezegeniâ€™ymiÅŸ</b>.",
"<b>23 nisan 1920â€™te</b> Ankaraâ€™da BÃ¼yÃ¼k Millet Meclisi aÃ§Ä±ldÄ±.",
"<b>TaÅŸkÃ¶prÃ¼ SarÄ±msaÄŸÄ±</b> Ã§ok kaliteli bir sarÄ±msaktÄ±r.",
"<b>Amasya ElmasÄ±</b> yurt dÄ±ÅŸÄ±na gÃ¶nderilmeye baÅŸlanmÄ±ÅŸ."
];

/* ---------------------------------------------------
   30 DOÄRU + 30 YANLIÅ â†’ 30 SORU
--------------------------------------------------- */

let pairs = []; // {correct, wrong}

for (let i = 0; i < 30; i++) {
    pairs.push([
        { text: correctList[i], correct: true },
        { text: wrongList[i], correct: false }
    ]);
}

/* ---------------------------------------------------
   SORU HAVUZUNU KARISTIR VE SETLERE AYIR
--------------------------------------------------- */

let sets = [];
let currentSet = 0;
let index = 0;
let wrongs = [];

function createSets() {
    const shuffled = [...pairs].sort(() => Math.random() - 0.5);

    sets = [];
    for (let i = 0; i < shuffled.length; i += 8) {
        sets.push(shuffled.slice(i, i + 8));
    }
}

/* ---------------------------------------------------
   BAÅLAT
--------------------------------------------------- */

function start() {
    document.getElementById("home").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");

    createSets();
    currentSet = 0;
    startSet();
}

function startSet() {
    index = 0;
    wrongs = [];
    renderQuestion();
}

/* ---------------------------------------------------
   SORU GÃ–STER
--------------------------------------------------- */

function renderQuestion() {
    const set = sets[currentSet];
    if (!set || index >= set.length) return finishSet();

    const pair = set[index];
    document.getElementById("status").innerHTML =
        `Soru ${index + 1} / ${set.length}`;

    const box = document.getElementById("options");
    box.innerHTML = "";

    const mixed = [...pair].sort(() => Math.random() - 0.5);

    mixed.forEach(opt => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerHTML = opt.text;
        div.onclick = () => handleAnswer(div, opt);
        box.appendChild(div);
    });
}

/* ---------------------------------------------------
   CEVAP
--------------------------------------------------- */

function handleAnswer(div, opt) {
    const target = div.querySelector(".target") || div;

    if (opt.correct) {
        div.classList.add("correct");
        playDing();
        setTimeout(() => { index++; renderQuestion(); }, 1000);
    } else {
        div.classList.add("wrong");
        wrongs.push(opt);
        playDong();

        const correct = sets[currentSet][index].find(o => o.correct);

        setTimeout(() => {
            const opts = document.querySelectorAll(".option");
            opts.forEach(o => {
                if (o.innerHTML === correct.text) {
                    o.classList.add("correct");
                }
            });

            setTimeout(() => { index++; renderQuestion(); }, 1000);

        }, 1000);
    }
}

/* ---------------------------------------------------
   SET SONU
--------------------------------------------------- */

function finishSet() {
    document.getElementById("quiz").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");

    const total = sets[currentSet].length;
    const wrongCount = wrongs.length;
    const correctCount = total - wrongCount;

    document.getElementById("report").innerHTML = `
        <p><strong>Toplam soru:</strong> ${total}</p>
        <p><strong>DoÄŸru sayÄ±sÄ±:</strong> ${correctCount}</p>
        <p><strong>YanlÄ±ÅŸ sayÄ±sÄ±:</strong> ${wrongCount}</p>
        <p><strong>BaÅŸarÄ± yÃ¼zdesi:</strong> %${Math.round((correctCount / total) * 100)}</p>
    `;
}

/* ---------------------------------------------------
   BUTONLAR
--------------------------------------------------- */

function retryWrongs() {
    if (wrongs.length === 0) {
        alert("TÃ¼m sorular doÄŸru ğŸ‰");
        return;
    }

    let mini = [];
    wrongs.forEach(w => {
        pairs.forEach(p => {
            if (p.includes(w)) mini.push(p);
        });
    });

    sets[currentSet] = mini;

    document.getElementById("result").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");

    startSet();
}

function nextSet() {
    currentSet++;

    if (currentSet >= sets.length) {
        alert("TÃ¼m setler bitti ğŸ’› Yeni cÃ¼mle eklemek istersen hemen yaparÄ±m.");
        currentSet = 0;
    }

    document.getElementById("result").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");

    startSet();
}

function toggleMute() {
    muted = !muted;
    document.getElementById("muteBtn").textContent =
        muted ? "ğŸ”‡ Ses AÃ§" : "ğŸ”Š Sesi Kapat";
}

function goHome() {
    document.getElementById("quiz").classList.add("hidden");
    document.getElementById("result").classList.add("hidden");
    document.getElementById("home").classList.remove("hidden");
}

</script>

</body>
</html>
